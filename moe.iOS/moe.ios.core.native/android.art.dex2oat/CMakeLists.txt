project(android.art.dex2oat)

add_executable(android.art.dex2oat ../../../../../art/dex2oat/dex2oat.cc)

target_link_libraries(android.art.dex2oat "/LIBPATH:${PROJECT_SOURCE_DIR}/../../../../prebuilt/llvm/clang+llvm-3.7.0-$(PlatformTargetAsMSBuildArchitecture)-microsoft-windows-$(Configuration)/lib" LLVMLTO LLVMObjCARCOpts LLVMLinker LLVMBitWriter LLVMIRReader LLVMBPFCodeGen LLVMBPFDesc LLVMBPFInfo LLVMBPFAsmPrinter LLVMAMDGPUCodeGen LLVMAMDGPUAsmParser LLVMAMDGPUUtils LLVMAMDGPUDesc LLVMAMDGPUInfo LLVMAMDGPUAsmPrinter LLVMSystemZDisassembler LLVMSystemZCodeGen LLVMSystemZAsmParser LLVMSystemZDesc LLVMSystemZInfo LLVMSystemZAsmPrinter LLVMHexagonDisassembler LLVMHexagonCodeGen LLVMHexagonDesc LLVMHexagonInfo LLVMNVPTXCodeGen LLVMNVPTXDesc LLVMNVPTXInfo LLVMNVPTXAsmPrinter LLVMCppBackendCodeGen LLVMCppBackendInfo LLVMMSP430CodeGen LLVMMSP430Desc LLVMMSP430Info LLVMMSP430AsmPrinter LLVMXCoreDisassembler LLVMXCoreCodeGen LLVMXCoreDesc LLVMXCoreInfo LLVMXCoreAsmPrinter LLVMMipsDisassembler LLVMMipsCodeGen LLVMMipsAsmParser LLVMMipsDesc LLVMMipsInfo LLVMMipsAsmPrinter LLVMAArch64Disassembler LLVMAArch64CodeGen LLVMAArch64AsmParser LLVMAArch64Desc LLVMAArch64Info LLVMAArch64AsmPrinter LLVMAArch64Utils LLVMARMDisassembler LLVMARMCodeGen LLVMARMAsmParser LLVMARMDesc LLVMARMInfo LLVMARMAsmPrinter LLVMPowerPCDisassembler LLVMPowerPCCodeGen LLVMPowerPCAsmParser LLVMPowerPCDesc LLVMPowerPCInfo LLVMPowerPCAsmPrinter LLVMSparcDisassembler LLVMSparcCodeGen LLVMSparcAsmParser LLVMSparcDesc LLVMSparcInfo LLVMSparcAsmPrinter LLVMMIRParser LLVMAsmParser LLVMLibDriver LLVMOption LLVMDebugInfoPDB LLVMTableGen LLVMOrcJIT LLVMLineEditor LLVMX86Disassembler LLVMX86AsmParser LLVMX86CodeGen LLVMSelectionDAG LLVMAsmPrinter LLVMX86Desc LLVMMCDisassembler LLVMX86Info LLVMX86AsmPrinter LLVMX86Utils LLVMMCJIT LLVMDebugInfoDWARF LLVMPasses LLVMipo LLVMVectorize LLVMInterpreter LLVMExecutionEngine LLVMRuntimeDyld LLVMCodeGen LLVMTarget LLVMScalarOpts LLVMProfileData LLVMObject LLVMMCParser LLVMBitReader LLVMInstCombine LLVMInstrumentation LLVMTransformUtils LLVMipa LLVMMC LLVMAnalysis LLVMCore LLVMSupport android.external.zlib android.libnativehelper android.system.core.base android.system.core.libziparchive android.system.core.libbacktrace android.system.core.libutils android.system.core.libcutils android.system.core.liblog android.art.disassembler android.art.runtime android.art.compiler android.external.vixl moe.windows.compat mingw.winpthreads mingw.wincrt comsuppw psapi ws2_32 mswsock wbemuuid)

set_target_properties(android.art.dex2oat PROPERTIES COMPILE_FLAGS "-include ${PROJECT_SOURCE_DIR}/src/main/native/Dex2oat-Prefix.pch")

target_compile_definitions(android.art.dex2oat PRIVATE ANDROID_SMP=1 ANDROID MOE=1 HAVE_LITTLE_ENDIAN NDEBUG IMT_SIZE=64 ART_DEFAULT_GC_TYPE_IS_CMS=1)

target_include_directories(android.art.dex2oat SYSTEM PRIVATE "${PROJECT_SOURCE_DIR}/../../../../../system/core/include" "${PROJECT_SOURCE_DIR}/../moe.base/src/main/native" "${PROJECT_SOURCE_DIR}/../../../../../art/runtime" "${PROJECT_SOURCE_DIR}/../../../../../external/gtest/include" "${PROJECT_SOURCE_DIR}/../../../../../libnativehelper/include/nativehelper" ${PROJECT_SOURCE_DIR}/../moe.base/src_windows/main/native ${PROJECT_SOURCE_DIR}/../mingw.winpthreads/include ${PROJECT_SOURCE_DIR}/../mingw.wincrt/include)

target_include_directories(android.art.dex2oat PRIVATE "${PROJECT_SOURCE_DIR}/../../../../../system/core/include" "${PROJECT_SOURCE_DIR}/../../../../../libnativehelper/include/nativehelper" "${PROJECT_SOURCE_DIR}/../../../../../art/compiler" "${PROJECT_SOURCE_DIR}/../../../../../art/runtime" "${PROJECT_SOURCE_DIR}/../../../../../art/cmdline")

