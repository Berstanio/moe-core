project(android.art.compiler)

add_library(android.art.compiler STATIC ../../../../../art/compiler/dex/global_value_numbering.cc ../../../../../art/compiler/compiled_method.cc ../../../../../art/compiler/optimizing/sharpening.cc ../../../../../art/compiler/dex/compiler_ir.cc ../../../../../art/compiler/optimizing/ssa_builder.cc ../../../../../art/compiler/optimizing/ssa_liveness_analysis.cc ../../../../../art/compiler/optimizing/nodes.cc ../../../../../art/compiler/compiler.cc ../../../../../art/compiler/optimizing/reference_type_propagation.cc ../../../../../art/compiler/optimizing/graph_checker.cc ../../../../../art/compiler/optimizing/licm.cc ../../../../../art/compiler/dex/mir_graph.cc ../../../../../art/compiler/dex/local_value_numbering.cc ../../../../../art/compiler/dex/mir_optimization.cc ../../../../../art/compiler/driver/compiler_driver.cc ../../../../../art/compiler/dex/vreg_analysis.cc ../../../../../art/compiler/optimizing/instruction_simplifier.cc ../../../../../art/compiler/optimizing/side_effects_analysis.cc ../../../../../art/compiler/driver/compiled_method_storage.cc ../../../../../art/compiler/dex/pass_driver_me_post_opt.cc ../../../../../art/compiler/dex/quick_compiler_callbacks.cc ../../../../../art/compiler/optimizing/induction_var_analysis.cc ../../../../../art/compiler/dex/pass_driver_me_opts.cc ../../../../../art/compiler/optimizing/stack_map_stream.cc ../../../../../art/compiler/optimizing/induction_var_range.cc ../../../../../art/compiler/optimizing/register_allocator.cc ../../../../../art/compiler/utils/swap_space.cc ../../../../../art/compiler/dex/mir_analysis.cc ../../../../../art/compiler/dex/quick/dex_file_method_inliner.cc ../../../../../art/compiler/optimizing/code_generator_utils.cc src/main/native/compiler_common_operator_outs.cc ../../../../../art/compiler/dex/post_opt_passes.cc ../../../../../art/compiler/dex/pass_manager.cc ../../../../../art/compiler/dex/quick/dex_file_to_method_inliner_map.cc ../../../../../art/compiler/optimizing/locations.cc ../../../../../art/compiler/dex/mir_method_info.cc ../../../../../art/compiler/driver/dex_compilation_unit.cc ../../../../../art/compiler/optimizing/load_store_elimination.cc ../../../../../art/compiler/optimizing/ssa_phi_elimination.cc ../../../../../art/compiler/dex/bb_optimizations.cc ../../../../../art/compiler/dex/type_inference.cc ../../../../../art/compiler/optimizing/optimization.cc ../../../../../art/compiler/dex/dex_to_dex_compiler.cc ../../../../../art/compiler/driver/compiler_options.cc ../../../../../art/compiler/optimizing/code_generator.cc ../../../../../art/compiler/dex/ssa_transformation.cc ../../../../../art/compiler/dex/gvn_dead_code_elimination.cc ../../../../../art/compiler/dex/verification_results.cc ../../../../../art/compiler/optimizing/builder.cc ../../../../../art/compiler/dex/mir_dataflow.cc ../../../../../art/compiler/optimizing/gvn.cc ../../../../../art/compiler/dex/mir_field_info.cc ../../../../../art/compiler/optimizing/inliner.cc ../../../../../art/compiler/dex/verified_method.cc ../../../../../art/compiler/optimizing/bounds_check_elimination.cc ../../../../../art/compiler/optimizing/intrinsics.cc ../../../../../art/compiler/optimizing/optimizing_compiler.cc ../../../../../art/compiler/optimizing/constant_folding.cc ../../../../../art/compiler/optimizing/graph_visualizer.cc ../../../../../art/compiler/optimizing/parallel_move_resolver.cc ../../../../../art/compiler/optimizing/boolean_simplifier.cc ../../../../../art/compiler/optimizing/dead_code_elimination.cc ../../../../../art/compiler/optimizing/prepare_for_register_allocation.cc)

set_target_properties(android.art.compiler PROPERTIES COMPILE_FLAGS "-include ${PROJECT_SOURCE_DIR}/src/main/native/Compiler-Prefix.pch")

target_compile_definitions(android.art.compiler PRIVATE ANDROID_SMP=1 ANDROID MOE=1 HAVE_LITTLE_ENDIAN MOE_NDEBUG SEVERITY_LEVEL=$(SEVERITY_LEVEL) IMT_SIZE=64 ART_DEFAULT_GC_TYPE_IS_CMS=1)

target_include_directories(android.art.compiler SYSTEM PRIVATE "${PROJECT_SOURCE_DIR}/../../../../../system/core/include" "${PROJECT_SOURCE_DIR}/../../../../../external/gtest/include" "${PROJECT_SOURCE_DIR}/../../../../../art/runtime" "${PROJECT_SOURCE_DIR}/../../../../../libnativehelper/include/nativehelper" ${PROJECT_SOURCE_DIR}/../moe.base/src/main/native ${PROJECT_SOURCE_DIR}/../moe.base/src_windows/main/native ${PROJECT_SOURCE_DIR}/../mingw.winpthreads/include ${PROJECT_SOURCE_DIR}/../mingw.wincrt/include)

target_include_directories(android.art.compiler PRIVATE "${PROJECT_SOURCE_DIR}/../../../../../art" "${PROJECT_SOURCE_DIR}/../../../../../art/compiler" "${PROJECT_SOURCE_DIR}/../../../../../art/disassembler" "${PROJECT_SOURCE_DIR}/../../../../../art/sigchainlib" "${PROJECT_SOURCE_DIR}/../../../../../external/vixl/src" "${PROJECT_SOURCE_DIR}/../../../../.." "${PROJECT_SOURCE_DIR}/../../../../prebuilt/llvm/clang+llvm-3.7.0-$(PlatformTargetAsMSBuildArchitecture)-microsoft-windows-$(Configuration)/include")

